

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>6. Examples &mdash; PyCASSE v1.0  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7. Bibiliography" href="bib.html" />
    <link rel="prev" title="5. Parameter Synthesis with A/G Contract" href="contracts_w_param.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PyCASSE v1.0
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installing PyCASSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">2. Writing Specifications for PyCASSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="contracts.html">3. Assume-Guarantee (A/G) Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="contracts_w_dyn.html">4. Control Synthesis with A/G Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="contracts_w_param.html">5. Parameter Synthesis with A/G Contract</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parameter-synthesis-using-ststl-contracts-iccad-2022">6.1. Parameter Synthesis using StSTL Contracts (ICCAD 2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#finding-parameters-for-multi-sensor-perception-system">6.1.1. Finding Parameters for Multi-Sensor Perception system</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-parameters-for-cruise-control-system">6.1.2. Finding Parameters for Cruise Control System</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bib.html">7. Bibiliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCASSE v1.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>6. Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="examples">
<h1>6. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>All the exampels are located in the <cite>examples</cite> folder.</p>
<ul class="simple">
<li><cite>contract_tests</cite> contains examples which checks contract compatibility, consistency, and feasibility, along with composition/ conjunction of multiple contracts, and Refinements relationship between two contracts</li>
<li><cite>stl_tests</cite> contains examples where STL is utilized to specify A/G contracts.</li>
<li><cite>ststl_test</cite> contains examples where StSTL is utilized to specify A/G contracts.</li>
<li><cite>parametric_tests</cite> contains examples where parameters are synthesized.</li>
<li><cite>ICCAD2022</cite> contains case studies for the paper <a class="reference internal" href="bib.html#oh22" id="id1">[Oh22]</a> published at ICCAD 2022.</li>
</ul>
<div class="section" id="parameter-synthesis-using-ststl-contracts-iccad-2022">
<h2>6.1. Parameter Synthesis using StSTL Contracts (ICCAD 2022)<a class="headerlink" href="#parameter-synthesis-using-ststl-contracts-iccad-2022" title="Permalink to this headline">¶</a></h2>
<div class="section" id="finding-parameters-for-multi-sensor-perception-system">
<h3>6.1.1. Finding Parameters for Multi-Sensor Perception system<a class="headerlink" href="#finding-parameters-for-multi-sensor-perception-system" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sensor_sys.png"><img alt="_images/sensor_sys.png" src="_images/sensor_sys.png" style="width: 300px;" /></a>
</div>
<p>Assume a multi-sensor perception system with <span class="math notranslate nohighlight">\(N\)</span> fully specified sensors and <span class="math notranslate nohighlight">\(L\)</span> partially specified sensors captured by parametric stochastic contracts.</p>
<div class="math notranslate nohighlight">
\[\begin{split}C_i &amp; = \left( \mathbf{G}_{[0,10]} ( d \leq 300 ), \; \mathbf{G}_{[0,10]} \left( |n_{d,i}| - 2 \right)^{\left[0.95\right]} \right) \; i = 1, 2, \cdots, N, \\
C_{N+j} \left( p \right) &amp; = \left( \mathbf{G}_{[0,10]} ( d \leq 250 ), \; \mathbf{G}_{[0,10]} \left( |n_{d,N+j}| - 1 \right)^{\left[ p \right]} \right) \; j = 1, 2, \cdots, L, \\
C_{N+L+1} &amp; = \left( \top, \; \mathbf{G}_{[0,10]} \left( n_d = \sum_{i=1}^{N+L} \frac{n_{d,i}}{N+L} \right) \right).\end{split}\]</div>
<p>In this case study, we aim to search for inexpensive sensors that can be affected by noise, i.e., large standard deviations <span class="math notranslate nohighlight">\(\sigma_j\)</span>
within the <span class="math notranslate nohighlight">\([0.2, 2]\)</span> range, while still guaranteeing with probability (confidence) <span class="math notranslate nohighlight">\(p_j\)</span> in <span class="math notranslate nohighlight">\([0.8, 1]\)</span> that the sensor error lies in the <span class="math notranslate nohighlight">\([-1, 1]\)</span> interval, where <span class="math notranslate nohighlight">\(j = 1, \cdots, L\)</span>.</p>
<p>We assume that there exists only one unspecified sensor, i.e., <span class="math notranslate nohighlight">\(L = 1\)</span>, and find the optimal set of parameters <span class="math notranslate nohighlight">\(\left( p_{N+1}, \sigma_{N+1} \right)\)</span> for the unspecified sensor such that the composition of the component-level contracts robustly refines the system-level contract,
i.e., <span class="math notranslate nohighlight">\(\bigotimes_{i=1}^{N} C_i \otimes C_{N+1} \otimes C_{N+2} \preceq_{\rho^*} C_{per}\)</span> and
<span class="math notranslate nohighlight">\(M_{N+1} ( \sigma_{N+1} ) \models_{\rho^*} C ( p_{N+1} )\)</span>.</p>
<p>The case study can be run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python examples/ICCAD2022/sensor_experiment.py
</pre></div>
</div>
<p>As a result, feasible regions for finding the set of optimal parameter values <span class="math notranslate nohighlight">\(\pi_{safe} = (c_s, p_s)\)</span> when there exists a single fully specified sensor, i.e., <span class="math notranslate nohighlight">\(N=1\)</span>, is :</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sensor_fig1.png"><img alt="_images/sensor_fig1.png" src="_images/sensor_fig1.png" style="width: 300px;" /></a>
</div>
<p>and given the cost function <span class="math notranslate nohighlight">\(J(p_{2}, \sigma_2) = - p_{2} - 10 \sigma_{2}\)</span>, the optimal paramter values is <span class="math notranslate nohighlight">\((p_{2}^*, \sigma_{2}^*) = (0.9281, 0.6781)\)</span>.</p>
<p>Feasible regions for finding the set of optimal parameter values <span class="math notranslate nohighlight">\(\pi_{safe} = (c_s, p_s)\)</span> when there exists three fully specified sensors, i.e., <span class="math notranslate nohighlight">\(N=3\)</span>, is :</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sensor_fig2.png"><img alt="_images/sensor_fig2.png" src="_images/sensor_fig2.png" style="width: 300px;" /></a>
</div>
<p>and given the cost function <span class="math notranslate nohighlight">\(J(p_{4}, \sigma_4) = - p_{4} - 10 \sigma_{4}\)</span>, the optimal paramter values is <span class="math notranslate nohighlight">\((p_{4}^*, \sigma_{4}^*) = (0.8063, 1.1563)\)</span>.</p>
</div>
<div class="section" id="finding-parameters-for-cruise-control-system">
<h3>6.1.2. Finding Parameters for Cruise Control System<a class="headerlink" href="#finding-parameters-for-cruise-control-system" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/acc_fig1.png"><img alt="_images/acc_fig1.png" src="_images/acc_fig1.png" style="width: 300px;" /></a>
</div>
<div class="figure align-center">
<a class="with-shadow reference internal image-reference" href="_images/acc_fig2.png"><img alt="_images/acc_fig2.png" class="with-shadow" src="_images/acc_fig2.png" style="width: 300px;" /></a>
</div>
<p>The cruise control system in the figure above controls the ego vehicle to keep it as close as possible to a target distance <span class="math notranslate nohighlight">\(d_{target} = d_{safe} + \tau v_e\)</span>, while adapting to the leading vehicle’s behavior. <span class="math notranslate nohighlight">\(d_{safe}\)</span> is the pre-determined safe distance and <span class="math notranslate nohighlight">\(\tau\)</span> is the time gap. Several parts of such system are intrinsically of stochastic nature, e.g., the noise of the sensors detecting the distance and velocity, and the behavior of the leading vehicle. In this case study, we illustrate the parameter synthesis process on an system whose safety and comfort requirements are specified by two parametric stochastic contracts.</p>
<p>In this case study, we search for the sets of optimal parameter values <span class="math notranslate nohighlight">\(\pi_{safe} = (c_s, p_s)\)</span> and <span class="math notranslate nohighlight">\(\pi_{comf} = (c_c, p_c)\)</span> for two requirements expressed as the parametric stochastic contracts <span class="math notranslate nohighlight">\(C_{safe}(\pi_{safe})\)</span> and <span class="math notranslate nohighlight">\(C_{comf}(\pi_{comf})\)</span>.</p>
<p><span class="math notranslate nohighlight">\(C_{safe}\)</span> requires that the probability of maintaining the distance <span class="math notranslate nohighlight">\(d\)</span> larger than or equal to <span class="math notranslate nohighlight">\(c_{s}\)</span> is greater than or equal to <span class="math notranslate nohighlight">\(p_{s}\)</span> when the initial distance is greater than or equal to <span class="math notranslate nohighlight">\(d_{target}\)</span> and the initial relative velocity between the ego and the leading vehicle is smaller than or equal to <span class="math notranslate nohighlight">\(5~m/s\)</span>.</p>
<p><span class="math notranslate nohighlight">\(C_{safe} = (\phi_{A,safe}, \phi_{G,safe})\)</span> where <span class="math notranslate nohighlight">\(\phi_{A,safe} := (d \geq d_{target}) \land (|v| \leq 5)\)</span> and <span class="math notranslate nohighlight">\(\phi_{G,safe} := \mathbf{G}_{[0,20]} ( c_{s} - d )^{[p_{s}]}\)</span></p>
<p><span class="math notranslate nohighlight">\(C_{comf}\)</span> requires that the acceleration of the ego vehicle be larger than or equal to <span class="math notranslate nohighlight">\(c_{c}~m/s^2\)</span> with a probability larger than or equal to <span class="math notranslate nohighlight">\(p_{c}\)</span>, to avoid abrupt decelerations under the same assumptions as <span class="math notranslate nohighlight">\(C_{safe}\)</span>.</p>
<p><span class="math notranslate nohighlight">\(C_{comf} = (\phi_{A,comf}, \phi_{G,comf})\)</span> where <span class="math notranslate nohighlight">\(\phi_{A,comf} := (d \geq d_{target}) \land (|v| \leq 5)\)</span> and <span class="math notranslate nohighlight">\(\phi_{G,comf} := \mathbf{G}_{[0,20]} ( c_{c} - a_e ) ^{[p_{c}]}\)</span></p>
<p>The case study can be run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python examples/ICCAD2022/ACC_experiment.py
</pre></div>
</div>
<p>As a result, feasible regions for finding the set of optimal parameter values <span class="math notranslate nohighlight">\(\pi_{safe} = (c_s, p_s)\)</span>:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/acc_safety_result.png"><img alt="_images/acc_safety_result.png" src="_images/acc_safety_result.png" style="width: 300px;" /></a>
</div>
<p>and the optimal paramter values is <span class="math notranslate nohighlight">\((c_{s}^*, p_{s}^*) = (5.625, 0.99375)\)</span>.</p>
<p>Similarly, feasible regions for finding the set of optimal parameter values <span class="math notranslate nohighlight">\(\pi_{comf} = (c_c, p_c)\)</span> can be found:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/acc_comfort_result.png"><img alt="_images/acc_comfort_result.png" src="_images/acc_comfort_result.png" style="width: 300px;" /></a>
</div>
<p>and the optimal paramter values is <span class="math notranslate nohighlight">\((c_{c}^*, p_{c}^*) = (-7.5, 0.99375)\)</span>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="bib.html" class="btn btn-neutral float-right" title="7. Bibiliography" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="contracts_w_param.html" class="btn btn-neutral float-left" title="5. Parameter Synthesis with A/G Contract" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Chanwook Oh.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>